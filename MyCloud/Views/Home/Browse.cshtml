@using MyCloud;

<h2>Dirs</h2>
<ul>
	@{
		DirModel rootDir = (ViewData["RootDir"] as DirModel);
	}
	<li>
	@if (rootDir.HasParent) {
		<a href="/Home/Browse/?PathName=@rootDir.EncodedParent">..</a>
	}
	</li>
    @foreach (var dirModel in rootDir.SubDirs) {
        <li>
           @*
           In a real ASP.NET world,  I would use Html.ActionLink and 
           ASP.NET would do rest. Unfortunately, this is mono...
           *@
            <a href="/Home/Browse/?PathName=@dirModel.EncodedFullName">@dirModel.Dir.Name</a><br />
         </li>
}
</ul>
<h2>Files</h2>
<ul>
    @foreach (var fileModel in (ViewData["RootDir"] as DirModel).Files) {
        <li>@fileModel.File.Name </li>
}
</ul>



