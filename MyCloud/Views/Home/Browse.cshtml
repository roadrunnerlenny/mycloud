@using MyCloud;



<h2>Dirs</h2>
<table id="mytable" class="tablesorter">
	<thead>
	<tr>
		<th>Name</th>
		<th>Size</th>
		<th>CreationDate</th>
		<th>LastWriteTime</th>
		<th>LastAccessTime</th>
	</tr>
	</thead>
	<tbody>
	@{
		DirModel rootDir = (ViewData["RootDir"] as DirModel);
	}
	@if (rootDir.HasParent) {
		<tr>
			<td><a href="?PathName=@rootDir.EncodedParent">..</a></td>
			<td><b></b></td>
			<td><b></b></td>
			<td><b></b></td>
			<td><b></b></td>
		</tr>
	}

	@{
    foreach (var dirModel in rootDir.SubDirs) {
    	<tr>
        	<td><a href="?PathName=@dirModel.EncodedFullName">@dirModel.Dir.Name</a></td>
        	<td><b></b></td>
        	<td><b>@dirModel.Dir.CreationTime</b></td>
        	<td><b>@dirModel.Dir.LastWriteTime</b></td>
        	<td><b>@dirModel.Dir.LastAccessTime</b></td>
        </tr>
       
    	
    	}
    }
    </tbody>
</table>

<h2>Files</h2>
<table id="fancytable" class="tablesorter">
	<thead>
	<tr>
		<th>Name</th>
		<th>Size</th>
		<th>CreationDate</th>
		<th>LastWriteTime</th>
		<th>LastAccessTime</th>
	</tr>
	</thead>
	@{
    foreach (var fileModel in (ViewData["RootDir"] as DirModel).Files) {
        <tr>
        	<td><a href="../Download/?FileName=@fileModel.EncodedFullName">@fileModel.File.Name </a></td>
        	<td>@fileModel.File.Length</td>
        	<td>@fileModel.File.CreationTime</td>
        	<td>@fileModel.File.LastWriteTime</td>
        	<td>@fileModel.File.LastAccessTime</td>
    	</tr>
    	}
}
</table>


